#!/usr/bin/env python3
# -*- coding=utf-8 -*-

"""
调整亮度
"""

import sys

flag = float(sys.argv[1])
coefficient = 0.1 * flag

brightness_path = "/sys/class/backlight/intel_backlight/brightness"
max_brighness_path = "/sys/class/backlight/intel_backlight/max_brightness"
current = int(open(brightness_path, 'r').read().strip())
maximum = int(open(max_brighness_path, 'r').read().strip())

new = current + int(coefficient * maximum)
if new >= 1 and new <= maximum:
    with open(brightness_path, 'w', encoding="utf-8") as f:
        f.write(str(new))
