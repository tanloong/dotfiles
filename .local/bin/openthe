#!/usr/bin/env bash
set -euo pipefail
IFS=$'\n\t'

app="$1"

case "$app" in
    terminal)
        case $XDG_SESSION_TYPE in
            'wayland')
                # foot;;
                st;;
            *)
                st;
        esac;;
    browser) brave --proxy-server=127.0.0.1:7890;;
    dictionary) goldendict;;
    keepassx) keepassxc;;
    screenshot-noclip)
        case $XDG_SESSION_TYPE in
            'wayland') slurp | grim -g - "$HOME"/"$(date '+%F_%T')".png;;
            *) flameshot gui --path "$HOME";;
        esac;;
    screenshot-clip)
        case $XDG_SESSION_TYPE in
            'wayland') grim "$HOME"/"$(date '+%F_%T')".png;;
            *) flameshot gui --clipboard;;
        esac;;
    ladder) notify-send --urgency low "Opening Clash..." -t 1000
            "$HOME/software/Clash for Windows-0.20.10-x64-linux/cfw";;
    netdisk) notify-send --urgency low "Opening 百度网盘..." -t 1000
            /usr/lib/baidunetdisk/baidunetdisk --no-sandbox %U;;
    wechat) notify-send --urgency low "Opening WeChat..." -t 1000
        # wechat-uos
        # /opt/apps/com.tencent.weixin/files/weixin/weixin.sh
        "/opt/apps/com.qq.weixin.deepin/files/run.sh" -f %f;;
    qq) notify-send --urgency low "Opening QQ..." -t 1000
        linuxqq;;
    office) libreoffice;;
    blueman-manager) blueman-manager;;
    menu)
        case $XDG_SESSION_TYPE in
            'wayland') wofi --show run;;
        *)
            dmenulines=5
            dmenumon="0"
            dmenufont="Cousine Nerd Font Mono:pixelsize=20:antialias=true:autohint=true"
            col_gray1="#222222"
            col_gray3="#bbbbbb"
            col_gray4="#eeeeee"
            col_cyan="#005577"
            dmenu_run -i -l ${dmenulines} -m ${dmenumon} -fn "${dmenufont}" -nb ${col_gray1} -nf ${col_gray3} -sb ${col_cyan} -sf ${col_gray4};;
        esac;;
    screenkey) togglethe.sh screenkey -s small --persist --opacity 1 ;;
    tip) dir_tip='/home/tan/.local/share/tip-pictures'
         togglethe.sh sxiv "$dir_tip"/*;;
    control-center) gnome-control-center;;
    filemanager) togglethe.sh pcmanfm;;
    sun) sunloginremote;;
esac
